<div
	id="preloader"
	class="fixed inset-0 bg-[#0e100f] dark:bg-[#0e100f] z-[9999] flex items-center justify-center"
>
	<div class="text-center">
		<h2
			id="hello-en"
			class="text-6xl font-normal text-[#c2c3b0] opacity-0 absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"
		>
			&#x2022; Hello
		</h2>
		<h2
			id="hello-fr"
			class="text-6xl font-normal text-[#c2c3b0] opacity-0 absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"
		>
			&#x2022; Bonjour
		</h2>
		<h2
			id="hello-ua"
			class="text-6xl font-normal text-[#c2c3b0] opacity-0 absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"
		>
			&#x2022; Привіт
		</h2>
		<h2
			id="hello-es"
			class="text-6xl font-normal text-[#c2c3b0] opacity-0 absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"
		>
			&#x2022; Hola
		</h2>
		<h2
			id="hello-hi"
			class="text-6xl font-normal text-[#c2c3b0] opacity-0 absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"
		>
			&#x2022; नमस्ते
		</h2>
	</div>
</div>

<script
	is:inline
	src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"
></script>

<script is:inline>
	// CHECK PATH MATCHES HOMEPAGE SINCE WE ONLY WANT THIS TO RUN ON THE HOMEPAGE
	if (window.location.pathname === "/" || window.location.pathname === "") {
		document.addEventListener("DOMContentLoaded", () => {
			// PRELOADER NEED TO ONLY BE SHOWN ON THE FIRST LOAD OF THE PAGE
			const hasSeenPreloader = false;

			// CASE 1: IF NOT SEEN, SHOW PRELOADER
			if (!hasSeenPreloader) {
				// INITIATE GSAP TIMELINE
				const timeline = gsap.timeline({
					onComplete: () => {
						// MOVE PRELOADER UPWARDS ONCE ANIMATION IS COMPLETE
						gsap.to("#preloader", {
							opacity: 1,
							duration: 1,
							y: "-100%",
							easer: "power2.inOut",
							onComplete: () => {
								// REMOVE PRELOADER FROM DOM ONCE ANIMATION IS COMPLETE
								document.getElementById("preloader").remove();
								// SET LOCAL STORAGE TO TRUE SO WE DON'T SHOW PRELOADER AGAIN
								localStorage.setItem(
									"hasSeenPreloader",
									"true",
								);
							},
						});
					},
				});
				// ANIMATE THE HELLO TEXT
				timeline
					.to("#hello-en", {
						opacity: 1,
						duration: 1,
						ease: "power2.inOut",
					})
					.to("#hello-en", {
						opacity: 0,
						duration: 0,
						delay: 0.2,
						ease: "power2.inOut",
					})

					// FRENCH
					.to("#hello-fr", {
						opacity: 1,
						duration: 0,
						ease: "power2.inOut",
					})
					.to("#hello-fr", {
						opacity: 0,
						duration: 0,
						delay: 0.125,
						ease: "power2.inOut",
					})

					// UKRAINIAN
					.to("#hello-ua", {
						opacity: 1,
						duration: 0,
						ease: "power2.inOut",
					})
					.to("#hello-ua", {
						opacity: 0,
						duration: 0,
						delay: 0.125,
						ease: "power2.inOut",
					})

					// SPANISH
					.to("#hello-es", {
						opacity: 1,
						duration: 0,
						ease: "power2.inOut",
					})
					.to("#hello-es", {
						opacity: 0,
						duration: 0,
						delay: 0.125,
						ease: "power2.inOut",
					})

					// HINDI
					.to("#hello-hi", {
						opacity: 1,
						duration: 0,
						ease: "power2.inOut",
					})
					.to("#hello-hi", {
						opacity: 1,
						duration: 0,
						delay: 0.35,
						ease: "power2.inOut",
					});
			} else {
				// HIDE PRELOADER IF ALREADY SEEN BY USER
				document.getElementById("preloader").style.display = "none";
			}
		});
	} else {
		// HIDE PRELOADER IF NOT ON HOMEPAGE
		document.getElementById("preloader").style.display = "none";
	}
</script>
